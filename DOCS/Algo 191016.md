# Algo 191016

# GRAPH

- 표현: 인접행렬, 인접리스트
- 순회: BFS, DFS
- Graph는 MST, AOE, AOV, 최단경로(다익스트라, 플로이드 등)

- 그래프 알고리즘, 상호배타집합(Disjoint-sets) 자료구조

## 정의

- 그래프: 아이템과 이들 사이의 `연결관계`를 표현한 것 
- `정점Vertex`와 이들을 연결하는 `간선Edge`들의 집합으로 구성된 자료구조
- N:N 관계를 표현하기 용이
- 사이클: 시작한 정점에서 끝나느 경로
- 단순경로: 경로 중 한 정점을 최대 한 번만 지나는 경로
- 경로: 간선들을 순서대로 나열한 것  

## 유형

- 무향그래프 Undirected Graph

- 유향그래프 Directed Graph

- 가중치 그래프 Weighted Graph

- 사이클 없는 방향 그래프 DAG, Directed Acyclic Graph

  - cf) 사이클 없는 무방향 그래프 == 트리 

  

- 완전 그래프: 정점들에 대해 가능한 모든 간선들을 가진 그래프 

- 부분 그래프: 원래 그래프에서 일부 정점이나 간선을 제외한 그래프 

## 인접(Adjacency)

- 두 개의 정점에 간선이 존재하면 서로 인접
- 완전 그래프에 속한 임의의 두 정점들은 모두 인접 

## 표현

그래프의 표현: 간선의 정보를 저장하는 방식, 메모리나 성능을 고려하여 결정

- 인접행렬 adjacent matrix

  - |V|*|V| 정방 행렬
  - 행번호와 열번호는 그래프의 정점에 대응
  - 인접 유무를 1과 0으로 표현
    - 무향 그래프: i번째 행의 합 == i번째 열의 합 == Vi의 차수
    - 유향 그래프: 행i의 합 == Vi의 진출 차수 / 열i의 합 == Vi의 진입 차수
  - 단점: 필요한 정보의 양보다 더 많은 메모리 공간을 빈 상태로 낭비

- 인접리스트 adjacent list

  - 각 정점에 대한 인접 정점들을 순차적으로 표현

  - 하나의 정점에 대한 인접 정점들을 각각 노드로 하는 연결 리스트로 저장

    ![image](C:\Users\Delta\Downloads\image.png)

- 간선의 배열 

  - 간선(시작 정점, 끝 정점)을 배열에 연속적으로 저장 



## 그래프 탐색(순회) Traversal

비선형구조인 그래프로 표현된 모든 자료(정점)을 빠짐없이 탐색하는 것 

- BFS 너비우선탐색 Breadth First Search
  - Queue 자료구조 사용 (FIFO)
- DFS 깊이우선탐색 Depth First Search
  - Stack 자료구조 사용 (LIFO)

## 서로소 집합 Disjoint-Sets

서로소 또는 상호배타 집합: 서로 중복 포함된 원소가 없는 집합들 == 교집합이 없는 집합들

- 집합에 속한 하나의 특정 멤버(대표자, representative)를 통해 각 집합들을 구분한다.

### 표현

- 연결 리스트
- 트리

### 연산

- Make-Set(x): 유일한 멤버 x를 포함하는 새로운 집합을 생성하는 연산

  ```
  Make-set(x):
  	p[x] = x
  ```

  

- Find-Set(x): x를 포함하는 집합을 찾는 연산

  ```
  Find-set(x):
  	if x == p[x]:
  		return x
  	else:
  		return Find_set(p[x])
  ```

  

- Union(x,y): x와 y를 포함하는 두 집합을 통합하는 연산 

  ```python
  Union(x,y):
      p[Find-set(y)] = Find-set(x)
  ```



## 최소신장트리 MST

### PRIM 알고리즘

### KRUSKAL 알고리즘 

- 간선을 하나씩 선택해서 MST를 찾는 알고리즘

1. 먼저 모든 간선을 가중치에 따라 오름차순으로 정렬
2. 가중치가 가장 낮은 간선부터 선택하면서 트리를 증가 - 사이클이 존재하면 다음으로 가중치가 낮은 간선 선택
   - 사이클 존재여부 체크: 서로소집합을 만든 후 새로 연결하기 전에 대표자 노드를 비교해서 같으면 사이클 존재한다는 뜻(양쪽 노드가 같은 집합이라는 뜻) -> 무시 
3. n-1 개의 간선이 선택될 때까지 (2)를 반복





## 최단 경로

- 정의: 간선의 가중치가 있는 그래프에서 두 정점 사이의 경로들 중에 간선의 가중치의 합이 최소인 경로

- 하나의 시작 정점에서 끝 정점까지의 최단 경로
  - 다익스트라 알고리즘: 음의 가중치를 허용하지 않음
  - 벨만 포드 알고리즘: 음의 가중치 허용
- 모든 정점들에 대한 최단 경로
  - 플로이드-워샬 알고리즘

| 가중치 | 모든접점경유X |    알고리즘 선택     |
| :----: | :-----------: | :------------------: |
|   X    |       X       |         BFS          |
|   O    |       X       | 다익스트라(플로이드) |
|   O    |       O       |      순열(TSP)       |

#### 다익스트라 알고리즘 Dijkstra

- 시작 정점에서 거리가 최소인 정점을 선택해 나가면서 최단경로를 구하는 방식
- 시작 정점(s)부터 끝정점(t)까지의 최단경로에 정점x가 존재한다. 이 때 최단경로는 s-x와 x-t의 최단경로로 각각 구성된다.
- 탐욕 기법을 사용한 알고리즘으로 MST의 프림 알고리즘과 유사하다.

